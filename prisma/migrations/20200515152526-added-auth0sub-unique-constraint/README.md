# Migration `20200515152526-added-auth0sub-unique-constraint`

This migration has been generated by Carter Rabasa at 5/15/2020, 3:25:26 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX "User.auth0Sub" ON "public"."User"("auth0Sub")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200503162910-init..20200515152526-added-auth0sub-unique-constraint
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator prisma_client {
   provider = "prisma-client-js"
@@ -9,9 +9,9 @@
 model User {
   id               String    @default(cuid()) @id
   // used for Auth0 authentication
-  auth0Sub              String
+  auth0Sub              String	@unique
   email            String    @unique
   productEmail     Boolean  @default(true)
   promotionalEmail Boolean  @default(true)
   profile          Profile?  @relation("UserProfile")
```


